<div id="boat-profile">
  <app-header> </app-header>
  <div [style.height]="500">
    <mat-carousel *ngIf="isLoaded"
      timings="250ms ease-in" [autoplay]=true [interval] = "5000" color="accent" maxWidth="auto" [proportion]= "40" [slides] = "images.length"
      [loop]=true [hideArrows]="false" [hideIndicators]="true" [useKeyboard]="true" [useMouseWheel]="false" orientation="ltr">
      <mat-carousel-slide
        #matCarouselSlide
        *ngFor="let sl of images;"
        [image]=sl.imageUrl
        overlayColor="#00000040"
        [hideOverlay]="false">
      </mat-carousel-slide>
    </mat-carousel>
    <button mat-raised-button (click)="addImage.click()" class="btn add-picture-button">Dodaj sliku</button>
    <input type="file" accept="image/*" style="display:none;border:none;" (change)="addImageToBoat($event)" #addImage/>

    <div class="boat-container boat-view-title-container">

      <!-- naziv broda -->
      <div class="d-flex left align-items-center" style="margin-left: 10px">
        <span class="house-name display-5" style="margin-left: 10px">
          {{boat.name}}
          <button mat-raised-button (click)="modifyProfile()" class="btn modify-profile-button">Izmeni profil</button>
        </span>
      </div>
      <!-- adresa broda -->
      <div class="d-flex left align-items-center" style="margin-left: 10px">
        <a class="house-address ms-3 mt-3">{{boat.address.street}}, {{boat.address.city}}, {{boat.address.state}}</a>
        <br>
      </div>

      <!-- informacije, promo opis i opis broda, predstavljamo kao 3 kolone -->
      <div class="d-flex flex-row mt-5">
        <!-- Informacije -->
        <div class="d-flex flex-column ms-3 filter-sort-container">
          <span class="basic-title text-center">Informacije</span>
          <div class="form-check last-form-check">
            <label class="form-check-label wrap">
              Pravila ponasanja: <br> {{boat.behaviourRules}}
            </label>
          </div>
          <br>
          <div class="form-check">
            <label class="form-check-label wrap">
              Kapacitet: {{boat.capacity}} osoba
            </label>
          </div>
          <div class="form-check">
            <label class="form-check-label wrap">
              <br> Cena za 1 dan: {{boat.pricePerDay}} din
            </label>
          </div>
          <div class="form-check last-form-check">
            <label class="form-check-label wrap">
              <br> Dodatne usluge: <br>
              <li *ngFor="let service of additionalServices">
                {{service.name}} : {{service.price}} din <br>
              </li>
              <br>
            </label>
          </div>
          <div class="form-check">
            <label class="form-check-label wrap" *ngIf="freeCancelation; else elseBlockShow">
              Besplatno otkazivanje: DA
            </label>
            <ng-template #elseBlockShow>
              <label class="form-check-label wrap">
                Besplatno otkazivanje: NE
                <br> Uslovi otkazivanja: {{boat.cancalletionFee}} din <br>
              </label>
            </ng-template>
          </div>
        </div>

        <!-- promo opis -->
        <div class="boat-promo-desc d-flex ms-5 flex-column">
          {{ boat.promoDescription }}
        </div>

        <!-- O BRODU -->
        <div class="d-flex flex-row">
          <div class="d-flex flex-column ms-3 filter-sort-container1">
            <span class="basic-title text-center">O BRODU</span>
            <div class="form-check">
              <label class="form-check-label wrap">
                Tip: {{boat.type}}
              </label>
            </div>
            <div class="form-check">
              <label class="form-check-label wrap">
                Duzina: {{boat.length}}m
              </label>
            </div>
            <div class="form-check">
              <label class="form-check-label wrap">
                Broj motora: {{boat.engineNumber}}
              </label>
            </div>
            <div class="form-check">
              <label class="form-check-label wrap">
                Snaga motora: {{boat.enginePower}}
              </label>
            </div>
            <div class="form-check">
              <label class="form-check-label wrap">
                Makismalna brzina: {{boat.maxSpeed}}km/h
              </label>
            </div>
            <br>
            <div class="form-check">
              <label class="form-check-label wrap">
                Pecaroska oprema: {{boat.fishingEquipment }}
              </label>
            </div>
            <br>

            <label  class="form-check-label wrap">Navigaciona oprema: </label>
            <div class="form-check" class="form-check-label wrap moveRight">
              <ul>
                <li *ngIf="boat.navigationEquipmentDTO.fishFinder">
                  <label class="form-check-label wrap" >
                  fish-finder
                  </label>
                </li>
                <li *ngIf="boat.navigationEquipmentDTO.VHFRadio">
                  <label class="form-check-label wrap" >
                    VHF Radio
                  </label>
                </li>
                <li *ngIf="boat.navigationEquipmentDTO.radar">
                  <label class="form-check-label wrap" >
                    radar
                  </label>
                </li>
                <li *ngIf="boat.navigationEquipmentDTO.gps">
                  <label class="form-check-label wrap" >
                    gps
                  </label>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>

      <!-- LOKACIJA PRIMER 1  -->
      <div>
        <div>
          <br> <label style="font-size: 30px; font-weight: 500; margin-left: 30px" >Lokacija:</label>
        </div>
        <agm-map [latitude]="lat" [longitude]="lng">
          <agm-marker [latitude]="lat" [longitude]="lng"></agm-marker>
        </agm-map>
      </div>
      <br>

<!--      &lt;!&ndash; LOKACIJA PRIMER 2 - NISU ISKORISTENI DINAMICKI PODACI ! &ndash;&gt;-->
<!--      <section class="section pb-5">-->
<!--        <div class="row">-->
<!--          &lt;!&ndash;Grid column&ndash;&gt;-->
<!--          <div class="col-lg-5 mb-4" style="height: 400px">-->
<!--            <div class="card">-->
<!--              <div class="card-body">-->
<!--                <div class="form-header blue accent-1">-->
<!--                  <h3><i class="fas fa-envelope"></i> Lokacija:</h3>-->
<!--                </div>-->
<!--                <p> {{boat.address.street}}, {{boat.address.city}}, {{boat.address.state}} </p>-->
<!--                <br>-->
<!--              </div>-->
<!--            </div>-->
<!--          </div>-->
<!--          &lt;!&ndash;Grid column&ndash;&gt;-->

<!--          &lt;!&ndash;Grid column&ndash;&gt;-->
<!--          <div class="col-lg-7">-->
<!--            &lt;!&ndash;Google map&ndash;&gt;-->
<!--            <div id="map-container-google-11" class="z-depth-1-half map-container-6" style="height: 400px">-->
<!--              <iframe src="https://maps.google.com/maps?q=new%20delphi&t=&z=13&ie=UTF8&iwloc=&output=embed"-->
<!--                      frameborder="0" style="border:0" allowfullscreen></iframe>-->
<!--            </div>-->
<!--          </div>-->
<!--          &lt;!&ndash;Grid column&ndash;&gt;-->
<!--        </div>-->
<!--      </section>-->
<!--      &lt;!&ndash; LOKACIJA PRIMER 2 - KRAJ&ndash;&gt;-->


      <!-- AKCIJE  -->
      <div>
        <div>
          <br> <label style="font-size: 30px; font-weight: 500; margin-left: 30px" >Akcije:</label>
        </div>
        <div class="myMatCarousel2">
          <mat-carousel *ngIf="isSlideLoaded" timings="250ms ease-in" [autoplay]="false" [maintainAspectRatio]="false" color="accent" [loop]="true" [hideArrows]="false"
                        [hideIndicators]="true" [useKeyboard]="true" [useMouseWheel]="false" orientation="ltr">
            <mat-carousel-slide #matCarouselSlide overlayColor="white" *ngFor="let courses of courses_slides; let i = index">
              <div class="myMatCarouselSlide2">
                <ng-container *ngFor="let course of courses.boatReservationDTOList ; let j = index">
                  <mat-card style="margin-right: 5px; margin-left: 5px" class="myCardSlide">
                    <div>
                      <div>
                        <h4 class="card-title"> {{ '*' + course.id + '*' }} <br> {{ course.startDate | date:'dd/MM/yyyy HH:mm:ss'}}  - {{ course.endDate | date:'dd/MM/yyyy HH:mm:ss' }} </h4>
                        <br>
                        <p class="card-text">Maksimalan broj osoba: {{ course.maxGuests }}</p>
                        <p class="card-text">Dodatne usluge: </p>
                          <li *ngFor="let a of course.additionalServices">
                            {{a.name}} : {{a.price}} din <br>
                          </li>
                        <p class="card-text">Cena po 1 nocenju: {{ course.price }} din/dan</p>
                        <button mat-icon-button (click)="deleteActionDialog(course.id)" class="btn delete-action-button"> <mat-icon>delete</mat-icon> </button>
                      </div>
                      <br>
                    </div>
                  </mat-card>
                </ng-container>
              </div>
            </mat-carousel-slide>
          </mat-carousel>
        </div>
      </div>
      <!-- AKCIJE KRAJ -->
      <br>

      <div class="align-items-center">
        <button mat-raised-button (click)="addActionDialog()" class="btn add-action-button">Dodaj akciju</button>
      </div>
    </div>
    <br>

  </div>
  <app-footer></app-footer>
</div>
